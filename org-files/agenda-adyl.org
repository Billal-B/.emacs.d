* Agenda
** 2019
*** 2019-10 octobre
***** changed some tests in data-common
**** 11/10
***** successfully loaded the tf model and got the result from the ouput layer
**** 14/10
***** DONE need to batch predictions
CLOSED: [2019-10-14 lun. 16:01]
***** DONE need to wrap tf in an akka actor
CLOSED: [2019-10-14 lun. 16:01]
***** DONE set up akka cluster
CLOSED: [2019-10-14 lun. 16:24]
**** 17/10
***** got back on bandpass filtering
flatmapgroups(2000k) in ms
- 7000
groupBy time (200k) in ms
- 11014 Some(JOIN TIME 4981)
- reuse group DS : 16000 / 4000
- reuse group DS + persist them : 20000 / 5500
- reuse group DS + cache them : 18543 JOIN TIME 4914
**** 21/10
***** DONE make test for ad transform job
CLOSED: [2019-10-22 mar. 11:53]
***** DONE make null value for deprecated field in secor
CLOSED: [2019-10-22 mar. 11:53]
**** 22/10
***** DONE make test for FileReader / DatedFileReader
CLOSED: [2019-10-23 mer. 09:34]
**** 23/10
***** DONE use spark shell to write secor data in parquet
CLOSED: [2019-10-23 mer. 17:55]
then compare with json to find if its faster
**** 24/10
**** 25/10
***** DONE find why spark cant explode with 11.4.1 snapshot
CLOSED: [2020-01-08 mer. 10:28]
*** 2019-11 novembre
**** 05/11
***** DONE remove cached file manager / azure FM / listRecursive + clean unused methods
CLOSED: [2019-11-14 jeu. 11:03]
**** 14/11
***** created class SqlWriter because we don't need a cloudFileManager that needs to be provided with FileWriter
** 2020
*** 2020-01 janvier
**** 2020-01-02 jeudi
***** fixed a broken regexp that broke in 2020
dateColumn=(201[0-9]-[0-9]*-[0-9]*) => dateColumn=(2[0-9]{3}-[0-9]*-[0-9]*)
Entered on [2020-01-02 jeu. 15:44]
*** 2020-02 f√©vrier
**** 2020-02-03 lundi
***** finished dockerfile
Entered on [2020-02-03 lun. 18:44]
***** got jenkins almost to work
Entered on [2020-02-03 lun. 18:45]
***** updated my branch on clickers serving with the one of Alexis
Entered on [2020-02-03 lun. 18:45]
**** 2020-02-04 mardi
***** DONE done company export job
Entered on [2020-02-04 mar. 12:07]
***** DONE fixes permission issue with postgre
Entered on [2020-02-04 mar. 16:18]
***** DONE merged alexis PR but need to fix test issue
CLOSED: [2020-02-05 mer. 14:35]
AYL common version was update but now there is an issue :
Symbol 'type org.scalatest.funsuite.AnyFunSuiteLike' is missing from the classpath
Entered on [2020-02-04 mar. 18:03]
**** 2020-02-05 mercredi
***** fixed jenkinsfile for clickers serving
Entered on [2020-02-05 mer. 14:31]
***** Small fix on manadge deal to set the day
Also had to fix a dependency problem
Entered on [2020-02-05 mer. 16:13]
**** 2020-02-06 jeudi
***** updated bandpassfilter branch
had to do a complex rebase
Entered on [2020-02-06 jeu. 16:47]
***** reviewed code for logReg job
Entered on [2020-02-06 jeu. 17:10]
**** 2020-02-07 vendredi
***** wrote conf for clickers log reg job
Entered on [2020-02-07 ven. 13:59]
***** face issue deduplicate: different file contents found in the following
Entered on [2020-02-07 ven. 15:31]
**** 2020-02-10 lundi
***** fixes spark deps issues for log reg job
it was caused by mleap which comes with spark 2.4.0
Entered on [2020-02-10 lun. 11:25]
***** took me all day to fix a deps issue (a spark class was not present in the jar)
Entered on [2020-02-10 lun. 18:23]
***** Finished jenkinsfile ? needs to test on prod/dev env
Entered on [2020-02-10 lun. 18:31]
**** 2020-02-11 mardi
***** DONE Needs to add a timestamp column in Visibleimpression
CLOSED: [2020-03-27 ven. 16:34]
Entered on [2020-02-11 mar. 17:00]
***** finished working on airflow conf for clickers
***** lost time because i used the wrong cluster conf
***** DONE see alexis comment on https://github.com/Adyoulike/data-etl-jobs/pull/51#discussion_r377763869
CLOSED: [2020-03-27 ven. 16:34]
related to timestamp in milli
**** 2020-02-17 lundi
***** Enriched company table with Country Name + Realm Publisher
Entered on [2020-02-17 lun. 11:56]
***** fix for daily job and postgresql
Entered on [2020-02-17 lun. 16:54]
**** 2020-02-18 mardi
***** done makes dagbuilder generic (data-common)
Entered on [2020-02-18 mar. 14:45]
***** selectAs type check
Entered on [2020-02-18 mar. 14:56]
**** 2020-02-19 mercredi
***** fixed incorrect output schema for data-etl-jobs
Entered on [2020-02-19 mer. 14:04]
***** added ccpa metrics
Entered on [2020-02-19 mer. 17:09]
***** finished generic dag builder (etl)
Entered on [2020-02-19 mer. 17:09]
**** 2020-02-20 jeudi
***** Done realmId and currency in company table PR
Entered on [2020-02-20 jeu. 13:45]
***** began working on curiosity project
Entered on [2020-02-20 jeu. 13:45]
**** 2020-02-21 vendredi
***** Tested CCPA (it works)
Entered on [2020-02-21 ven. 16:54]
***** worked on curiosity setup (jenkins) with greg
Entered on [2020-02-21 ven. 16:54]
***** started work on auto doc
Entered on [2020-02-21 ven. 16:55]
**** 2020-02-24 lundi
***** worked on auto doc
Entered on [2020-02-24 lun. 14:39]
***** check ccpa metrics
Entered on [2020-02-24 lun. 18:13]
**** 2020-02-25 mardi
***** finished ccpa
Entered on [2020-02-25 mar. 11:26]
***** created rtb transaction airflow job
Entered on [2020-02-25 mar. 11:26]
***** updated data-etl-job ver in datawarehouse
Entered on [2020-02-25 mar. 18:29]
**** 2020-02-26 mercredi
***** worked on curiosity poetry jenkins integration
Entered on [2020-02-26 mer. 12:10]
***** continues working on auto doc
Entered on [2020-02-26 mer. 17:32]
**** 2020-02-27 jeudi
***** worked on rtb transactions
Entered on [2020-02-27 jeu. 13:50]
***** autodoc + rtb
Entered on [2020-02-27 jeu. 17:28]
***** needs to check if rtb indexation works good
Entered on [2020-02-27 jeu. 18:01]
**** 2020-02-28 vendredi
***** done jenkinsfile for data-scala-ml
Entered on [2020-02-28 ven. 11:53]
*** 2020-03 mars
**** 2020-03-02 lundi
***** worked on curiosity : kafka consumer + producer test
Entered on [2020-03-02 lun. 13:43]
**** 2020-03-03 mardi
***** done curiosity integration test
Entered on [2020-03-03 mar. 11:54]
***** finished curiosity tests
Entered on [2020-03-03 mar. 18:25]
***** needs to fix Get https://docker.ayl.io/v2/ayl/zookeeper/manifests/3.4.6: no basic auth credentials
Entered on [2020-03-03 mar. 18:26]
**** 2020-03-10 mardi
***** currencies : done xml parsing + test
Entered on [2020-03-10 mar. 14:29]
***** worked on nn job
Entered on [2020-03-10 mar. 16:58]
**** 2020-03-12 jeudi
***** worked on sql alchemy
Entered on [2020-03-12 jeu. 17:08]
***** modified integration test for curr
Entered on [2020-03-12 jeu. 17:08]
**** 2020-03-13 vendredi
***** added platform backup to currnecy integration test
Entered on [2020-03-13 ven. 15:33]
**** 2020-03-16 lundi
***** fixed git issue
Entered on [2020-03-16 lun. 13:58]
***** done PR for currency
Entered on [2020-03-16 lun. 13:59]
***** done data python utils PR
Entered on [2020-03-16 lun. 15:37]
***** done db insertion for currencies
Entered on [2020-03-16 lun. 17:07]
**** 2020-03-17 mardi
***** improved auto doc with formula and metric column + wrote doc
Entered on [2020-03-17 mar. 15:45]
***** currencies PR fixes
Entered on [2020-03-17 mar. 15:45]
***** currencies fixes
Entered on [2020-03-17 mar. 15:56]
**** 2020-03-18 mercredi
***** continues working on doc
Entered on [2020-03-18 mer. 16:33]
***** ask greg about how config python should be
Entered on [2020-03-18 mer. 20:15]
**** 2020-03-19 jeudi
***** updated data etl doc PR
Entered on [2020-03-19 jeu. 11:02]
***** started to work on preprod db for maxime
Entered on [2020-03-19 jeu. 11:02]
***** worked on preprod db for billing stat
Entered on [2020-03-19 jeu. 18:08]
**** 2020-03-20 vendredi
***** reviewed PRs
Entered on [2020-03-20 ven. 15:18]
***** merged PR
Entered on [2020-03-20 ven. 15:44]
**** 2020-03-23 lundi
***** put backup in docker run
took me all day...
Entered on [2020-03-23 lun. 18:54]
***** data job scheduler PR for currencies
Entered on [2020-03-23 lun. 19:38]
***** how to use secrets ?
**** 2020-03-24 mardi
***** fixed currency CI
Entered on [2020-03-24 mar. 16:09]
***** merge data etl doc
Entered on [2020-03-24 mar. 16:09]
***** worked on preprod db for billing
Entered on [2020-03-24 mar. 16:28]
***** started to work on helm chart for currency db
Entered on [2020-03-24 mar. 16:40]
**** 2020-03-25 mercredi
***** worked on creating db in kube
Entered on [2020-03-25 mer. 16:44]
**** 2020-03-26 jeudi
***** spent a lot of time with kubernetes bc of postgresql pw issue
Entered on [2020-03-26 jeu. 16:54]
**** 2020-03-27 vendredi
***** done platform backup
Entered on [2020-03-27 ven. 15:37]
***** faced issue with jenkins basic auth creds
Entered on [2020-03-27 ven. 17:19]
**** 2020-03-30 lundi
***** put currencies on hold bc of docker creds stuff
Entered on [2020-03-30 lun. 16:17]
***** worked on open auction job
Entered on [2020-03-30 lun. 16:18]
**** 2020-03-31 mardi
*****  done open auction PR
Entered on [2020-03-31 mar. 20:01]
still needs to test the job
*** 2020-04 avril
**** 2020-04-01 mercredi
***** TODO change open auction job
Entered on [2020-04-01 mer. 10:27]
add isOpenAuction column, and split job output on that column* Notes ADYL
***** finished open auction PR
Entered on [2020-04-01 mer. 16:29]
***** pr fixes on preprod db billing stat
Entered on [2020-04-01 mer. 16:49]
**** 2020-04-02 jeudi
***** worked on currencies dag definition
Entered on [2020-04-02 jeu. 17:53]
**** 2020-04-05 dimanche
***** adapted currencies job for post gres conf
Entered on [2020-04-05 dim. 16:51]
also fixes tests
**** 2020-04-06 lundi
***** worked on data-python-utils
Entered on [2020-04-06 lun. 15:43]
added kafka + refactoring
**** 2020-04-07 mardi
***** pr recommendation fixes for data-python-utils
Entered on [2020-04-07 mar. 15:09]
***** started to work on ssp creative watcher
Entered on [2020-04-07 mar. 17:49]
made placeholder for kafka topic (as pr not merged)
**** 2020-04-08 mercredi
***** fixed ci/tests for stream kafka ssp creative watcher
Entered on [2020-04-08 mer. 20:44]
**** 2020-04-09 jeudi
***** finished creative consumer PR
Entered on [2020-04-09 jeu. 15:31]
***** fixed conflict open auction job
Entered on [2020-04-09 jeu. 16:02]
***** worked on currencies jenkins issues
Entered on [2020-04-09 jeu. 18:02]
https://stackoverflow.com/questions/31129417/jenkins-not-able-to-fetch-code-from-remote-git
https://build.ayl.io/blue/organizations/jenkins/currencies/detail/PR-3/43/pipeline
**** 2020-04-10 vendredi
***** saw with heni for currencies CI
Entered on [2020-04-10 ven. 15:05]
**** 2020-04-14 mardi
***** pr recommandation fixes
Entered on [2020-04-14 mar. 10:52]
Re enables full auction stab job
***** worked on data python utils : sql alchemy helpers
Entered on [2020-04-14 mar. 21:59]
**** 2020-04-15 mercredi
***** fixed data python utils jenkins (but still no space left on device)
Entered on [2020-04-15 mer. 15:40]
**** 2020-04-16 jeudi
***** worked on ssp creative watcher : 2 db
***** read px pipeline code
Entered on [2020-04-16 jeu. 18:58]
**** 2020-04-17 vendredi
***** data elt job manadge : revert open auction PR review
Entered on [2020-04-17 ven. 15:43]
***** started to work on integrating data-python-utils in other project
**** 2020-04-20 lundi
***** integration test for ssp creative
Entered on [2020-04-20 lun. 15:22]
hard because no nexus
have to integrate my local nexus into the integration test
**** 2020-04-21 mardi
***** made integration test work with 2 db
Entered on [2020-04-21 mar. 16:52]
needs to do some code refacto
**** 2020-04-22 mercredi
***** fixed data python utils integration test
Entered on [2020-04-22 mer. 16:06]
**** 2020-04-28 mardi
***** PR on data common to add datatype (parquet/json) and path + tests
Entered on [2020-04-28 mar. 22:31]
***** finished confluence upload script (it's in python)
Entered on [2020-04-28 mar. 22:41]
**** 2020-04-29 mercredi
***** refactored auto doc code
Entered on [2020-04-29 mer. 11:20]
***** refactored data-common doc
Entered on [2020-04-29 mer. 12:26]
***** fixed data pyhton utils CI but still jenkins issues
Entered on [2020-04-29 mer. 16:03]
***** read px code
Entered on [2020-04-29 mer. 16:04]
*** 2020-07 juillet
**** 2020-07-02 jeudi
***** DONE fix platform backup issue
      CLOSED: [2020-07-02 jeu. 10:54]
The backup platform encoded in base64 contained a line break char
    Entered on [2020-07-02 jeu. 10:52]
***** TODO repair billing
    Entered on [2020-07-02 jeu. 10:53]
***** TODO repair manadge
    Entered on [2020-07-02 jeu. 10:53]
***** TODO finish bloomberg reports
    Entered on [2020-07-02 jeu. 10:53]
**** 2020-07-07 mardi
***** finished bloomberg report
    Entered on [2020-07-07 mar. 14:57]
